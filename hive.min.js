function trace(e,t,i){hive.client.prototype.trace(e,t,i)}var client_ver="4.0.2",_client="craftmanlab@gmail.com",_root,_buffer,hive_options={client_ext:"untitled-app",server:location.href,url_home:location.pathname,start_auth:!1,start_request:"",start_execute:"",ui_auto:!0,flag:""};jQuery(document).ready(function(){"object"!=typeof _client?_client=new hive.client("object"==typeof hive_options?hive_options:{}):"hive"in _client&&"HiveClientObject"===_client.hive?"object"==typeof console&&console.log("Error: An Hive Client Object is already instantiated as window._client."):"object"==typeof console&&console.log("Error: Possible variable name conflict, window._client already instantiated.")});var hive=hive||{};hive.client=function(e){this.hive="HiveClientObject",this.client_ver=client_ver,this.client_ext="untitled",this.root="#hive-root",this.buffer="#hive-buffer",this.instance="_client",this.homepage=location.pathname,this.server=location.href,this.start_auth=!1,this.start_request="",this.start_execute="",this.debug_trace_fallback_alert=!1,this.debug_trace_history_limit=0,this.is_ready=!1,this.is_paused=!1,this.is_user_script_loaded=!1,this.is_authenticated=!1,this.meta=!1,this.ui_auto=!0,this.flag="",this.view=jQuery("body").data("view"),"object"==typeof e&&jQuery.extend(this,e),this.$root=jQuery(this.root),this.debug=jQuery(this.root)?jQuery(this.root).hasClass("mode-dev"):!1,this.viewport={height:$(window).height(),width:$(window).width()},1!=this.$root.size()&&this.trace("w:uc-root-el-not-exist","warn",!0),this.core_string="Hive Client "+this.client_ver+(""===this.client_ext?"":"."+this.client_ext)+" with jQuery "+jQuery().jquery,this.trace(this.core_string,"info"),"undefined"==typeof DEBUG&&(window.DEBUG=this.debug),this.init(),"string"==typeof this.start_execute&&""!=this.start_execute&&this.execute(this.start_execute),"string"==typeof this.start_request&&""!=this.start_request&&this.request(this.start_request),$(window).resize(function(e){_client._global_event_window_resize(e)})},hive.client.prototype._global_event_window_resize=function(e){this.viewport={height:$(window).height(),width:$(window).width()},$(".uc-auto-resize").each(function(){if($(this).data("uc-max-height")){var e=_client.viewport.height+$(this).data("uc-max-height")+"px";$(this).css("max-height",e)}if($(this).data("uc-max-width")){var t=_client.viewport.width+$(this).data("uc-max-width")+"px";$(this).css("max-width",t)}if($(this).data("uc-height")){var e=_client.viewport.height+$(this).data("uc-height")+"px";$(this).css("max-height",e)}if($(this).data("uc-width")){var t=_client.viewport.width+$(this).data("uc-width")+"px";$(this).css("max-width",t)}}),"function"==typeof this._event_window_resize&&this._event_window_resize(e)},hive.client.prototype.init=function(){console.info("craftmanlab/miniclient | craftmanlab@gmail.com"),this.ui_auto&&this.ui_build();var _this=this;$("body").delegate(".uc-auto-request, .uc-request-trigger","click",function(e){if($(this).data("request")){e.preventDefault();var request_automated=_this.request_automated(e);if(null===request_automated){_this.trace("m.request_automated.standard-ajax-request");var data=$(this).data();data.flag=(e.altKey?"--e.altKey":"")+(e.ctrlKey?"--e.ctrlKey":"")+(e.shiftKey?"--e.shiftKey":""),_this.request({data:data})}}else if($(this).data("handler")){e.preventDefault();var handler=$(this).data("handler");handler in _client?eval("_client."+handler+"(undefined, e);"):_this.trace("m.request_automated.data-request:handler.absent")}else _this.trace("m.request_automated.data-request:absent")}),$("body").delegate(".uc-form-auto-request","submit",function(e){e.preventDefault(),_client._form_auto_request(e)}),$("body").delegate(".uc-auto-action","click",function(e){_this.trace(".uc-auto-action.clicked"),_this._auto_action(e)}),$("body").delegate(".input-group .input-group-btn .btn-click-parent-input","click",function(e){$(this).closest(".input-group").find("input").trigger("click")}),$("body").delegate(".input-group .input-group-btn .btn-clear-parent-input","click",function(e){var t=$(this).closest(".input-group").find("input");t.prop("readonly")?_client.trace("Read-only input skipped.",null,!0):t.prop("disabled")?_client.trace("Disabled input skipped.",null,!0):$(this).closest(".input-group").find("input").val("")}),"init_public"in this&&"function"==typeof this.init_public&&this.init_public(),"init_user"in this&&"function"==typeof this.init_user&&this.init_user(),"init_admin"in this&&"function"==typeof this.init_admin&&this.init_admin(),this.initPlugins(),this.initBootstrap()},hive.client.prototype.initPlugins=function(){"function"==typeof Pikaday&&($(".pikaday").each(function(){new Pikaday({field:this});$(this).removeClass("pikaday").addClass("pikaday-controls")}),$(this.root).delegate(".pikaday-controls","keydown paste",function(e){e.preventDefault()}))},hive.client.prototype.initBootstrap=function(){$("body").delegate("ul.nav-tabs > li > a, ul.nav-pills > li > a","click",function(e){$(this).blur()})},hive.client.prototype._form_auto_request=function(e){if($el=$(e.currentTarget),"FORM"===$el.prop("tagName"))if($el[0].checkValidity()){var t=$el.serialize();$el.data("confirm")?(_client.trace("_form_auto_request.confirmation"),this.confirm({message:$el.data("confirm"),confirm:function(e){_client.trace("_form_auto_request.confirmed"),t.action=$(this).data("action"),_client.request({data:t})},cancel:function(){_client.trace("_form_auto_request.cancelled")}})):(_client.trace("_form_auto_request.confirmation-no-set"),_client.request({data:t}))}else this.alert("Please fill out all fileds in required format unless specified optional.");else _client.trace("e._form_auto_request:required-form-tag")},hive.client.prototype.execute=function(e){switch(e){case"debug":console.log(this)}"function"==typeof this.execute_extended&&(this.trace("m:execute_extended-function-exists",!0),this.execute_extended(e))},hive.client.prototype.request=function(e){this.response=void 0;var t={context:this,url:this.server,type:"POST",dataType:"json",global:!0,data:{},callback:null,success:function(e){return console.log("this.requestSuccess(response)"),this.requestSuccess(e),console.log("this.requestSuccess.finish"),!0},error:function(e){trace("e:request:AJAX call failed"),this.confirm({message:"Your session may have expired. Please confirm to reload the page now, or cancel to stay in the current state.",title:"Operation Failure",confirm:function(e){location.href=location.href},cancel:function(e){_client.trace("w.request.bad-ending")}})}};if("object"==typeof e)jQuery.extend(t,e);else{if("string"!=typeof e)return trace("e:request.type-error"),!1;t.data={request:e}}"object"==typeof t.data?(t.data.client_ext=this.client_ext,jQuery.ajax(t)):"string"==typeof t.data?(t.data+="&client_ext="+this.client_ext,jQuery.ajax(t)):this.trace("e.request: data must be object of string.")},hive.client.prototype.requestSuccess=function(response){if(this.debug=!0,this.$root.find(".form-group").removeClass("has-error"),this.response=response,"redirect"in response&&response.redirect)return this.trace("requestSuccess > redirect"),this.processRedirect(response.redirect);if("csrf"in response&&(this.trace("requestSuccess > csrf"),this.processCSRF(response.csrf)),"notifications"in response&&(this.trace("requestSuccess > notifications"),this.processNotifications(response.notifications)),"alerts"in response&&(this.trace("requestSuccess > alerts"),this.processAlerts(response.alerts)),"validationErrors"in response&&(this.trace("requestSuccess > validationErrors"),this.processValidationErrors(response.validationErrors)),"handler"in response&&response.handler){this.trace("requestSuccess > handler: "+response.handler);var responseHandler=response.handler.replace(/\-/,"_");responseHandler in this?(this.trace("responseSuccess.call-handler-now"),eval("this."+responseHandler+"(_client.response);")):this.trace("requestSuccess: handler-not-exists "+responseHandler)}else this.trace("requestSuccess.handler-not-returned")},hive.client.prototype.processAlerts=function(e){var t=this;$.each(e,function(e,i){t.alert(i.message,i.title)})},hive.client.prototype.processNotifications=function(e){},hive.client.prototype.processValidationErrors=function(e){_this=this,$.each(e,function(e,t){_this.trace("processValidationErrors.1"),$form=$("form#"+t.formId),0==$form.length&&(_this.trace("processValidationErrors.2"),_this.trace("processValidationErrors.form-absent")),$form.find("input").removeClass("error");var i=$("<div>").append($("<p>",{text:"message"in t?t.message:"We could not validate your input, please change it and submit again."}));if("object"==typeof t.errorFields&&null!=t.errorFields){_this.trace("processValidationErrors.5");var r=$("<ul>");$.each(t.errorFields,function(e,t){"error"in t&&r.append($("<li>",{text:t.error})),"field"in t&&$form.find("*[name='"+t.field+"']").closest(".form-group").addClass("has-error")}),i.append(r)}"help"in t&&i.append($("<p>",{text:t.help})),_this.alert({title:"Invalid input",message:i})})},hive.client.prototype.processCSRF=function(e){var t=this;if("csrf_token"in e&&e.csrf_token)if("csrf_name_key"in e){var i="csrf_name_value"in e&&e.csrf_name_value?$("input[name='"+e.csrf_name_key+"'][value='"+e.csrf_name_value+"']"):$("input[name='"+e.csrf_name_key+"']");i.length?$.each(i,function(i,r){$form=$(r).closest("form"),$.each(e.csrf_token,function(e,i){t.trace("CSRF: "+e+":"+i),t.trace($form.find("input[name='"+e+"']")),$form.find("input[name='"+e+"']").val(i)}),t.trace("processCSRF.csrf-token-refreshed")}):this.trace("processCSRF.no-matching-input-tag")}else this.trace("e.processCSRF.missing:csrf.csrf_name_key");else this.trace("e.processCSRF.missing:csrf.csrf_token")},hive.client.prototype.processRedirect=function(e){return this.trace("processRedirect()"),"url"in e&&("delay"in e?setTimeout(function(){location.href=e.url},e.delay):location.href=e.url),!0},hive.client.prototype.processJqueries=function(e){console.log(2),this.trace("processJqueries()")},hive.client.prototype.processForm=function(e){console.log(2),this.trace("processForm()")},hive.client.prototype.processData=function(e){console.log(2),this.trace("processData()")},hive.client.prototype._handle_response=function(e){return"boolean"==typeof e.status?("undefined"==typeof e.logs||this.debug||(this.debug=!0,this.trace("Hive.Client "+this.client_ver+" with jQuery "+$().jquery,"warn")),e.status?this.trace("request.responsed.success"):this.trace("request.responsed.failure"),"notices"in e&&(this.trace("request.responsed.notices"),this._process_notices(e.notices)),"errors"in e&&(this.trace("request.responsed.errors"),this._process_errors(e.errors)),!0):(this.trace("request.responsed.invalid"),!1)},hive.client.prototype._process_notices=function(e){$.each(e,function(e,t){_client.alert({title:"object"==typeof t&&"title"in t?t.title:"Notice",body:"object"==typeof t&&"body"in t?t.body:"string"==typeof t?t:"(empty)"})})},hive.client.prototype._process_errors=function(e){var t=this;"object"==typeof e&&$.each(e,function(e,i){if("type"in i)switch(i.type){case"generic":t.alert({title:"Error",body:i.message});break;case"permission":t.alert({title:"Access Denied",body:i.message});break;case"validation":t.trace("_handle_response_errors.std-error.validation");var r=$("<div>").append($("<p>",{text:"message"in i?i.message:"We could not validate your input, please change it and submit again."}));if("errors"in i){var o=$("<ul>");$.each(i.errors,function(e,t){"object"==typeof t?("message"in t&&o.append($("<li>",{text:t.message})),"field"in t&&console.warn("Error field: "+t.field)):"string"==typeof t&&o.append($("<li>",{text:t}))}),r.append(o)}t.alert({title:"Invalid input",message:r});break;default:t.trace("_handle_response_errors.std-error.type-not-recognized:ignored")}else t.trace("_handle_response_errors.non-std-error:ignored")})},hive.client.prototype.request_automated=function(e){var t=jQuery(e.currentTarget);jQuery(this.root);if(!t.size())return null;var i=t.data("request");if("string"==typeof i&&i.length>0){switch(i){case"do_something":this.trace("I'll doing something.");break;default:return this.trace("m:request_automated.no-custom-handler:"+i),null}return!0}},hive.client.prototype.request_callback=function(response,request_callback_once){if(trace("request_callback_legacy()"),"boolean"==typeof response.debug&&response.debug)return console.warn("Debug data returned."),console.info(response.data),!0;if(!this.authenticated||"boolean"==typeof response.authenticated&&response.authenticated)if("string"==typeof response.request){if(this.response=response,"boolean"==typeof response.authenticated&&(this.authenticated=response.authenticated),"client_redirect"in response&&"string"==typeof response.client_redirect)return location.href=response.client_redirect,!0;if(response.token){var $_=$("input[name='request'][value='"+response.request+"']");$_.size()&&($_.siblings("input[name='token']").val(response.token),this.trace($_.siblings("input[name='token']").val()))}if("object"==typeof response.meta&&(this.meta=response.meta),this.meta="object"==typeof response.meta?response.meta:this.meta,"string"==typeof response.ui_buffer&&jQuery(this.buffer).append(response.ui_buffer),this.ui_auto&&"string"==typeof response.ui){var ucontainer="string"==typeof response.ui_container?jQuery("#"+response.ui_container):jQuery(this.root);ucontainer.hide().html(response.ui),this.ui_build()}if("object"==typeof response.jqueries&&this._process_jqueries(response.jqueries),response.request.match(/^admin[-_]/)&&"function"==typeof this.request_callback_admin){if(this.request_callback_admin(response))return!0;trace("m:request_callback():continued")}else switch(response.request){case"init":this.start_auth?"boolean"==typeof response.authenticated&&response.authenticated?(this.authenticated=!0,jQuery(".widget-logout").show()):this.login_init():trace("m:init-start-auth-disabled");break;case"login":"boolean"==typeof response.authenticated&&response.authenticated?(this.authenticated=!0,jQuery(".widget-logout").show(),"undefined"!=typeof INIT_REQUEST?(trace("w:old-feature-need-to-be-updated"),this.request(INIT_REQUEST)):"undefined"!=typeof this.start_request&&(trace("m:now-resend-start-request"),this.request(this.start_request))):this.login_init("Invalid Library No. or PIN, please try again.")}if("data"in response&&this._process_data(response.data),"function"==typeof request_callback_once)request_callback_once(response);else if("function"==typeof this.request_callback_extended&&this.request_callback_extended(response),"function"==typeof this.request_callback_extended_1&&this.request_callback_extended_1(response),"function"==typeof this.request_callback_extended_2&&this.request_callback_extended_2(response),"handler"in response){var responseHandler=response.handler.replace(/\-/,"_");responseHandler in this&&eval("this."+responseHandler+"(_client.response);")}else trace("response.handler not found");this.ui_auto&&"string"==typeof response.ui&&ucontainer.show(),"object"==typeof response.request_queue&&"object"==typeof response.request_queue.data&&(trace("m:request_callback:request_queue"),this.request(response.request_queue.data,"string"==typeof response.request_queue.url?response.request_queue.url:void 0,"string"==typeof response.request_queue.type?response.request_queue.type:void 0,"string"==typeof response.request_queue.dataType?response.request_queue.dataType:void 0))}else trace("Invalid request responsed.");else this.authenticated=!1,location.href=this.url_home,console.log("-_-")},hive.client.prototype.request_callback_flag_handler=function(e){e.flag.match(/--load-script/)&&"string"==typeof e.load_script&&jQuery.ajax({url:e.load_script,dataType:"script",success:function(){trace("m:load-script:sussess")}})},hive.client.prototype._process_data=function(e){"object"==typeof e&&$.each(e,function(e,t){var i="handler"in t?t.handler:"default";switch(i){case"custom":break;case"form":$(t.selector).formFill(t.records[0]);break;case"records":_client._process_data_records(t);break;case"presentation":_client._process_data_presentation(t);break;case"propagate":_client._process_data_propagate(t);break;case"auto":case"default":default:if(t.selector){var r=$(t.selector);r.length&&r.each(function(e,i){$(i).uc_spawn({records:t.records})})}}})},hive.client.prototype._process_data_propagate=function(e){this.trace("_process_data_propagate.selector:"+e.selector);var t=$(e.selector);t.length&&(e.records.length>0?(t.find(".records-not-found, .record-not-found").hide(),t.each(function(t,i){_client.trace($(i));var r=$(i).find(".records-found");console.info(r),console.info(e.records),r.uc_spawn({records:e.records}),r.show()})):($targets.find(".records-found, .record-found").hide(),$targets.find(".records-not-found, .record-not-found").show()))},hive.client.prototype._process_data_records=function(e){if(e.selector){var t=$(e.selector);t.length&&(e.records.length>0?(t.find(".records-not-found, .record-not-found").hide(),t.each(function(t,i){var r=$(i).find(".records-found");r.uc_spawn({records:e.records}),r.removeClass("hidden").show()})):(t.find(".records-found, .record-found").hide(),t.find(".records-not-found, .record-not-found").show()))}},hive.client.prototype._process_data_presentation=function(e){_client.trace("_process_data_presentation()");var t=$(e.selector);t.length&&(1==e.records.length&&null!=e.records[0]&&"object"==typeof e.records[0]?t.each(function(t,i){$container=$(i),$.each(e.records[0],function(t,i){$fields=$container.find('*[data-field="'+t+'"]'),i=null==i?"":i,$fields.size()&&$fields.each(function(){jQuery(this).prop("tagName").match(/TEXTAREA|INPUT/i)?jQuery(this).prop("type").match(/checkbox/i)?jQuery(this).prop("checked",1==i||"on"==i):jQuery(this).val(i):t in e.html_fields?jQuery(this).html(i):jQuery(this).text(i)})})}):_client.trace("_process_data_presentation:requires-single-record"))},hive.client.prototype._process_forms=function(e){if(dataset.target){var t=$(dataset.target);t.length&&(1==dataset.records.length&&null!=dataset.records[0]&&"object"==typeof dataset.records[0]?t.each(function(e,t){$container=$(t),$.each(dataset.records[0],function(e,t){$fields=$container.find('*[data-field="'+e+'"]'),t=null==t?"":t,$fields.size()&&$fields.each(function(){jQuery(this).prop("tagName").match(/TEXTAREA|INPUT/i)?jQuery(this).prop("type").match(/checkbox/i)?jQuery(this).prop("checked",1==t||"on"==t):jQuery(this).val(t):e in dataset.html_fields?jQuery(this).html(t):jQuery(this).text(t)})})}):_client.trace("_process_data_presentation:requires-single-record"))}},hive.client.prototype.ui_build=function(){this.trace("hive.client.ui_build()");jQuery(this.root);return jQuery(this.root).find(".uc-bs-modals .modal, nav.navbar").appendTo("body"),jQuery(document).on("shown.bs.modal",".modal",function(){var e=1040+10*jQuery(".modal:visible").length;_client.trace("uc3.patch.bs3:shown.bs.modal:"+$(this).prop("id")+"/z-index:"+e),jQuery(this).css("z-index",e),setTimeout(function(){jQuery(".modal-backdrop").not(".modal-stack:first").css("z-index",e-1).addClass("modal-stack")},0)}),jQuery("#modal-uc-form-submit").data("init")||(jQuery("#modal-uc-form-submit").data("init",!0),jQuery("#modal-uc-form-submit").on("shown.bs.modal",function(e){jQuery(this).find(".auto-focus").focus()})),jQuery("body").delegate(".uc-form-submit","click",function(e){_client.trace(".uc-form-submit.click()");var t=jQuery(jQuery(this).data("target"));0===t.size()&&(t=jQuery(this).closest("form")),1===t.size()&&_client.request({data:t.serialize()})}),this.ui_build_modal_form(),jQuery("body").delegate(".uc-modal-form .uc-modal-submit-form","click",function(e){var t=jQuery(this).closest(".modal").find("form");1===t.size()?(_client.trace("m:uc-modal-submit-form"),t.submit()):_client.trace("e:uc-modal-submit-form:no-form")}),jQuery("body").delegate(".uc-checkbox-container","click",function(e){$(e.target).prop("tagName").match(/INPUT|LABEL/i)||($el=jQuery(e.currentTarget).find("input[type='radio'], input[type='checkbox']"),$el.prop("disabled")||$el.prop("checked",!$el.prop("checked")))}),jQuery("body").delegate(".uc-toggle-check-all","click",function(e){var t=$($(e.currentTarget).data("target"));t.length&&t.find("input[type='checkbox']").prop("checked",$(e.currentTarget).prop("checked"))}),$("body").delegate(".uc-logout","click",function(e){_client.logout()}),setTimeout(function(){_client.$root.find(".main-content > .alert.fade").addClass("in")},500),!0},hive.client.prototype.ui_build_modal_form=function(){jQuery("body").delegate(".uc-modal-form .uc-modal-submit","click",function(e){_client.trace("uc-modal-submit()");var t=jQuery(this).closest(".modal").find("form");if(1===t.size())if(t[0].checkValidity())DEBUG&&"function"==typeof _client.form_validate&&(_client.form_validate(t)?_client.request({data:t.serialize()}):e.preventDefault());else{DEBUG&&"function"==typeof _client.form_validate&&_client.form_validate(t);var i=!1;t.find("input:visible").each(function(){this.validity.valid?jQuery(this).popover("destroy"):(i=i?i:this,_client.trace(this.validationMessage))}),i&&(trace(jQuery(i)),jQuery(i).popover({content:i.validationMessage,placement:"bottom"}).popover("show"),i.focus()),_client.trace("e:uc-modal-submit:client-validation-failure")}else _client.trace("e:uc-modal-submit:no-form")})},hive.client.prototype._view_requires_init=function(e){return e="undefined"==typeof e?$(this.root).data("view"):e,"string"==typeof e&&e.match(/^[a-z_]*[a-z0-9_]*$/i)&&!e.match(/^login$|^logout$/i)},hive.client.prototype._process_jqueries=function(e){if(this.trace("_process_jqueries()"),"object"==typeof e){var t=this,i=jQuery(this.root);jQuery.each(e,function(e,r){switch($target="string"==typeof r.selector?jQuery(r.selector):i,r.method){case"addClass":$target.addClass(r.data);break;case"after":$target.after(r.data);break;case"append":$target.append(ui.data);break;case"before":$target.before(r.data);break;case"html":$target.html(r.data);break;case"prepend":$target.prepend(r.data);break;case"prop":$target.prop(r.property,ui.value);break;case"removeClass":$target.removeClass(r.data);break;case"text":$target.text(r.data);break;case"css":$target.css(r.property,ui.value);break;case"val":$target.val(r.data);break;default:t.trace("ui_auto.method-not-supported:"+r.method)}})}else t.trace("ui_auto.type-error:expected-object:given-"+typeof ui_objects)},hive.client.prototype.message=function(e,t){return this.alert(e,t)},hive.client.prototype.alert=function(e,t){var i={title:"Notice",body:void 0,focusAfter:void 0};if("object"==typeof e?jQuery.extend(i,e):"string"==typeof e&&(i.body=e),"string"==typeof t&&(i.title=t),!i.body&&"message"in i&&(i.body=i.message),"string"==typeof i.body&&i.body.length>0&&(i.body=$("<p>",{text:i.body})),"object"==typeof i.body&&i.body.jquery){var r=jQuery("#uc-modal-alert");r.size()&&(r.find(".modal-title").text(i.title),r.find(".modal-body").empty().append(i.body),r.modal("show"))}},hive.client.prototype.alert_validation_errors=function(e,t){trace(e);var i=jQuery("<div>");if(i.append(jQuery("<p>",{text:e})),"object"==typeof t&&t.length>0){var r=jQuery("<ul>");jQuery.each(t,function(e,t){r.append(jQuery("<li>",{text:t.desc}))}),i.append(r)}this.alert({title:"Invalid input",message:i.html()})},hive.client.prototype.confirm=function(e,t,i,r){var o={message:"Confirm?",title:"Confirmation",confirm:function(){},cancel:function(){},confirm_caption:"Yes",cancel_caption:"No"};"object"==typeof e?jQuery.extend(o,e):(this.trace("w:confirm.legacy-code-detected"),o={message:"string"==typeof e?e:o.message,title:"string"==typeof t?t:o.title,confirm:"function"==typeof i?i:o.confirm,cancel:"function"==typeof r?r:o.cancel}),o.message=o.message.match(/<.*>/)?o.message:"<p>"+o.message+"</p>";var s=jQuery("#uc-modal-confirm");0==s.size(),s.find(".modal-title").text(o.title),s.find(".modal-body").html(o.message),s.find(".uc-btn-confirm").text(o.confirm_caption),s.find(".uc-btn-cancel").text(o.cancel_caption),s.data("confirmed",!1),s.find(".uc-btn-confirm").on("click",o.confirm),s.find(".uc-btn-confirm").on("click",function(){s.unbind("hide.bs.modal")}),s.on("hide.bs.modal",o.cancel),s.find(".uc-btn-cancel").on("click",function(){s.modal("hide")}),s.on("hidden.bs.modal",function(){jQuery(this).find(".uc-btn-confirm").unbind("click"),jQuery(this).find(".uc-btn-cancel").unbind("click"),jQuery(this).unbind("hide.bs.modal hidden.bs.modal")}),s.modal("show")},hive.client.prototype.data_update=function(e,t,i){i="object"==typeof i?i:{};var r=jQuery(e);r.size()?r.each(function(){$parent=jQuery(this),jQuery.each(t,function(e,t){$fields=$parent.find('*[data-field="'+e+'"]'),$fields.size()&&$fields.each(function(){var r=jQuery(this).prop("tagName");r.match(/^TEXTAREA$|^INPUT$/i)?"checkbox"==jQuery(this).prop("type")?(t="on"==t||"1"==t||1==t?!0:!1,jQuery(this).prop("checked",t)):jQuery(this).val(t):"A"===r?jQuery(this).prop("href",t):e in i?jQuery(this).html(t):jQuery(this).text(t)})})}):trace("w.dom_global_update.element-not-found:"+e)},hive.client.prototype.data_fill_table=function(e,t,i){i="object"==typeof i?i:{};var r=jQuery(e);r.size()?r.each(function(){$parent=jQuery(this),jQuery.each(t,function(e,t){$fields=$parent.find('*[data-field="'+e+'"]'),$fields.size()&&$fields.each(function(){jQuery(this).prop("tagName").match(/TEXTAREA|INPUT/i)?jQuery(this).val(t):e in i?jQuery(this).html(t):jQuery(this).text(t)})})}):trace("w.dom_global_update.element-not-found:"+e)},hive.client.prototype.trace=function(e,t,i){if(i="boolean"==typeof i?i:!1,"boolean"==typeof this.debug&&this.debug||i)try{if(console)switch(t="string"==typeof t?t:"log",t.toLowerCase()){case"information":case"info":case"i":console.info?console.info(e):console.log&&console.log(e);break;case"warning":case"warn":case"w":console.warn?console.warn(e):console.log&&console.log(e);break;case"error":case"err":case"e":console.error?console.error(e):console.warn?console.warn(e):console.log&&console.log(e);break;case"log":default:console.log&&console.log(e)}}catch(r){this.debug_trace_fallback_alert&&alert(e)}this.debug_trace_history_limit>0&&("undefined"==typeof _UC_LOGS&&(window._UC_LOGS=new Array),_UC_LOGS.length>this.debug_trace_history_limit&&_UC_LOGS.shift(),_UC_LOGS.push(e))},hive.client.prototype.strprep=function(e,t){return"string"==typeof e&&"object"==typeof t?(jQuery.each(t,function(t,i){var r=new RegExp("__"+t+"__","gi");i=null==i?"":i,e=e.replace(r,i)}),e):"string"==typeof e?e:!1},hive.client.prototype.strprepA=function(e,t){return"string"==typeof e&&"object"==typeof t?(jQuery.each(t,function(t,i){"pmail"==t&&(i=i.replace(/,/,", "));var r=new RegExp("__"+t+"__","gi");i=null==i?"":i,e=e.replace(r,i)}),e):"string"==typeof e?e:!1},hive.client.prototype.records_to_html=function(e,t){var i=this,r="";return"string"==typeof e?"object"==typeof t&&t.length>0?jQuery(t).each(function(t,o){r+=i.strprepA(e,o)}):i.trace("w:records_to_html:records-not-found"):i.trace("w:records_to_html:template-is-not-string"),r},hive.client.prototype.logout=function(){location.href="./?logout"},hive.client.prototype.response_process_data=function(){"object"==typeof this.response&&"vesion"in this.response&&"data"in this.response&&this.response.version<=3.1&&console.log(this.response.data),"object"==typeof data&&$.each(data,function(e,t){var i="handler"in t?t.handler:"default";switch(i){case"form":$(t.target).formFill(t.records[0]);break;case"records":_client._process_data_records(t);break;case"presentation":_client._process_data_presentation(t);break;case"default":default:if(t.target){var r=$(t.target);r.length&&r.each(function(e,i){$(i).uc_spawn({records:t.records})})}}})};
